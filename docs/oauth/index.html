<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.111.3"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>OAuth | Onshape Developer Documentation</title><meta name=description content="Using OAuth 2.0 with Onshape
Introduction
OAuth 2.0 (&ldquo;OAuth&rdquo;) is an authorization framework allowing a user (also referred to as the â€¦"><meta property="og:title" content="OAuth"><meta property="og:description" content="Using OAuth 2.0 with Onshape Introduction OAuth 2.0 (&ldquo;OAuth&rdquo;) is an authorization framework allowing a user (also referred to as the resource owner) to approve client application access to the user&rsquo;s resources at an OAuth-enabled server.
When integrating with Onshape, OAuth tokens authorize third-party applications (such as a desktop application or a web service) for limited access to users&rsquo; Onshape documents. Using OAuth terminology, Onshape acts as both the authorization and resource server, while the desktop or web-based application is the client."><meta property="og:type" content="article"><meta property="og:url" content="https://onshape-public.github.io/docs/oauth/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2020-05-18T20:39:14-04:00"><meta property="article:modified_time" content="2020-05-18T20:39:14-04:00"><meta itemprop=name content="OAuth"><meta itemprop=description content="Using OAuth 2.0 with Onshape Introduction OAuth 2.0 (&ldquo;OAuth&rdquo;) is an authorization framework allowing a user (also referred to as the resource owner) to approve client application access to the user&rsquo;s resources at an OAuth-enabled server.
When integrating with Onshape, OAuth tokens authorize third-party applications (such as a desktop application or a web service) for limited access to users&rsquo; Onshape documents. Using OAuth terminology, Onshape acts as both the authorization and resource server, while the desktop or web-based application is the client."><meta itemprop=datePublished content="2020-05-18T20:39:14-04:00"><meta itemprop=dateModified content="2020-05-18T20:39:14-04:00"><meta itemprop=wordCount content="2332"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="OAuth"><meta name=twitter:description content="Using OAuth 2.0 with Onshape Introduction OAuth 2.0 (&ldquo;OAuth&rdquo;) is an authorization framework allowing a user (also referred to as the resource owner) to approve client application access to the user&rsquo;s resources at an OAuth-enabled server.
When integrating with Onshape, OAuth tokens authorize third-party applications (such as a desktop application or a web service) for limited access to users&rsquo; Onshape documents. Using OAuth terminology, Onshape acts as both the authorization and resource server, while the desktop or web-based application is the client."><link rel=preload href=/scss/main.min.b62e58da7255459c03616973d5e57025c9e05acf735fe51d880fde377e61cf51.css as=style><link href=/scss/main.min.b62e58da7255459c03616973d5e57025c9e05acf735fe51d880fde377e61cf51.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script><style>code{white-space:pre-wrap!important;overflow-wrap:break-word}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-3CY8X7Q128"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3CY8X7Q128",{anonymize_ip:!1})}</script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class=font-weight-bold>Onshape Developer Documentation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ title="Welcome to the Developer Portal" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquickstart-li><a href=/docs/quickstart/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsquickstart><span>Quick Start</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docssamplecode-li><a href=/docs/samplecode/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docssamplecode><span>Sample Code</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapioverview-li><a href=/docs/apioverview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapioverview><span>API Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapikeys-li><a href=/docs/apikeys/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapikeys><span>API Keys</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsassociativity-li><a href=/docs/associativity/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsassociativity><span>Associativity</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsbilling-li><a href=/docs/billing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsbilling><span>Billing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsclientmessaging-li><a href=/docs/clientmessaging/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsclientmessaging><span>Client Messaging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsfeatureaccess-li><a href=/docs/featureaccess/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsfeatureaccess><span>Feature List API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoauth-li><a href=/docs/oauth/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docsoauth><span class=td-sidebar-nav-active-item>OAuth</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsintegrationguide-li><a href=/docs/integrationguide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsintegrationguide><span>Integration Methodology Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsextensions-li><a href=/docs/extensions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsextensions><span>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsstructuredstorage-li><a href=/docs/structuredstorage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsstructuredstorage><span>Structured Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstessellationperformance-li><a href=/docs/tessellationperformance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstessellationperformance><span>Tessellation Performance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstestingguidelines-li><a href=/docs/testingguidelines/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstestingguidelines><span>Testing Guidelines</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstranslation-li><a href=/docs/translation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstranslation><span>Model Translation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docswebhook-li><a href=/docs/webhook/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docswebhook><span>Webhook Notifications</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docschangelog-li><a href=/docs/changelog/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docschangelog><span>Changelog</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#application-registration>Application Registration</a></li><li><a href=#obtaining-an-oauth-access-token>Obtaining an OAuth Access Token</a><ul><li><a href=#obtaining-a-code>Obtaining a code</a></li><li><a href=#exchanging-the-code-for-a-token>Exchanging the code for a token</a></li><li><a href=#using-the-access-token>Using the access token</a></li><li><a href=#refreshing-the-access-token>Refreshing the access token</a></li></ul></li><li><a href=#notes-for-developers-of-installed-desktop-applications>Notes for developers of installed desktop applications</a></li><li><a href=#notes-for-debugging>Notes for debugging</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://onshape-public.github.io/docs/>Documentation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://onshape-public.github.io/docs/oauth/>OAuth</a></li></ol></nav><div class=td-content><h1>OAuth</h1><header class=article-meta></header><h1 id=using-oauth-20-with-onshape>Using OAuth 2.0 with Onshape</h1><h2 id=introduction>Introduction</h2><p>OAuth 2.0 (&ldquo;OAuth&rdquo;) is an authorization framework allowing a user (also referred to as the resource owner) to approve client application access to the user&rsquo;s resources at an OAuth-enabled server.</p><p>When integrating with Onshape, OAuth tokens authorize third-party applications (such as a desktop application or a web service) for limited access to users&rsquo; Onshape documents. Using OAuth terminology, Onshape acts as both the authorization and resource server, while the desktop or web-based application is the client. Resource owners have the option of granting or denying access to applications.</p><p>RFC 6749 (<a href=http://tools.ietf.org/html/rfc6749 target=_blank><a href=http://tools.ietf.org/html/rfc6749>http://tools.ietf.org/html/rfc6749</a></a>) is the reference for the OAuth framework as a whole. Most of this document describes how to implement the OAuth exchanges described by the reference within the context of Onshape and client applications. RFC 6750 (<a href=http://tools.ietf.org/html/rfc6750 target=_blank><a href=http://tools.ietf.org/html/rfc6750>http://tools.ietf.org/html/rfc6750</a></a>) describes the exchange of OAuth access tokens between clients and OAuth servers.</p><p>Once obtained an OAuth token will work for third-party APIs under <code>/api</code>. It&rsquo;s not appropriate to attempt to use an OAuth token to fetch the URLs typically displayed in a web browsers location bar.</p><h2 id=application-registration>Application Registration</h2><p>OAuth relies on an orchestrated set of interactions between the web browser, Onshape&rsquo;s web services and third-party client applications (which may be desktop or web server-based). The orchestration takes the form of a sequence of requests and subsequent browser redirections between pre-configured URL endpoints. In order to take part in the OAuth process an application must first be registered with Onshape.</p><p>Currently partners register applications by contacting <a href=mailto:api-support@onshape.com>api-support@onshape.com</a> to register OAuth application. The following items are necessary:</p><ol><li><p>Application name - acceptable names must include some identification of the partner. &lsquo;Megacorp STL Previewer and Editor&rsquo; is appropriate, but &lsquo;STL Preview and Editor&rsquo; is not. This value cannot be changed after the application is registered.</p></li><li><p>Application description - a short string displayed to the user when they&rsquo;re asked to grant your application permission to access their data.</p></li><li><p>Primary format - this string uniquely identifies your application and is a marker for the data it might store on Onshape servers. It should take the form of a Java style reverse domain name: <code>com.megacorp.stl-preview</code>. This value cannot be changed after the application is registered.</p></li><li><p>Redirect URIs - Your application must specify at least one (but multiple values are acceptable) URI used in OAuth protocol exchanges. This URL must also use SSL (a URL that begins with <code>https</code>), with two exceptions applicable for installed desktop applications. These two are exceptions allow redirect URIs of the form <code>http://localhost:&lt;port></code>, or the URN string <code>urn:ietf:wg:oauth:2.0:oob</code>. The &rsquo;localhost&rsquo; and URN string are meant for installed desktop applications since they do not require a publicly reachable server to be part of the OAuth process.
Possible reasons for specifying more than one redirect URI is if you deploy &ldquo;test&rdquo; and &ldquo;production&rdquo; versions of your application, and want to use a specific version of your application for different sets of users.</p></li><li><p>Application Scope (Permissions) - the application should also indicate the type of access it requires to the user&rsquo;s data. The current list of scopes are:</p></li></ol><ul><li>Read - Application has read access to your documents</li><li>Comment - Application has read and comment access to your documents</li><li>Write - Application has modify and comment access to your documents</li><li>Reshare - Application has modify and share access to your documents</li><li>Full - Application has full access to your documents</li></ul><p>The list of scopes may be increased or adjusted in the future, in particular access to personal information such as a users email address will be placed under a new scope that will need to be explicitly requested.</p><ol start=6><li>OAuth URL - this URL is the &lsquo;authentication page&rsquo; for your application. This is the first URL called from an Onshape application&rsquo;s page. The page hosted at this URL should handle OAuth authentication (see &ldquo;Obtaining a code&rdquo;, below). Once your application&rsquo;s server is authenticated on behalf of the user, the user should be redirected to your application&rsquo;s content. If Onshape passes the <code>redirectOnshapeUri</code> attribute in the first redirect (as a query parameter) in the OAuth flow, the app should redirect to the URI passed in this attribute after a successful grant.
Legacy support: As we migrate to extension based apps, the old Iframe URL is moved to a tab based extension. Change as needed to provide a better user experience.</li></ol><p>After the application has been registered Onshape will send you corresponding OAuth Client ID and OAuth Client Secret strings. While the Client ID is considered public - it is how your specific application is uniquely identified in OAuth protocol exchanges - the Client Secret <strong>must</strong> be stored securely. For example, it should <strong>not</strong> be checked in to source code control systems. Protect the Client Secret as you would any password data.</p><h2 id=obtaining-an-oauth-access-token>Obtaining an OAuth Access Token</h2><p>An OAuth access token is the credential a client application uses to access user resources at Onshape. Obtaining an OAuth access token is a two-part process: first obtaining a one-time use authorization code, and then exchanging the authorization code for them access token. The access token is used for all subsequent Onshape requests, though it too has a limited lifetime (which may be refreshed, as described below).</p><p>In the example URLs used below to describe the OAuth exchanges, values enclosed in angle brackets (&rsquo;&lt;>&rsquo;) are descriptive names used to indicate that application-specific values should be substituted in actual exchanges. All other URLs and URL fragments are literal strings.</p><h3 id=obtaining-a-code>Obtaining a code</h3><p>Your application must first must direct the user to <code>https://oauth.onshape.com/oauth/authorize?response_type=code&amp;client_id=&lt;your client id></code>. You may optionally add the <code>redirect_uri</code>, <code>scope</code>, <code>state</code> and <code>company_id</code> query parameters.</p><p>If your application was registered with more than one redirect URI, then the specific URI to use is indicated by the <code>redirect_uri</code> query string. You can only use a <code>redirect_uri</code> value that has been previously registered for this application. URIs must be a exactly match registered values, including the port number (if not using the default HTTPS port). Typically this action is performed by using a HTTP 302 response code with a <code>Location</code> HTTP response header when the user arrives at the starting page of your application, for example in response to a GET of the Base HREF specified in the application registration. The Location HTTP response header should contain the URL with the correct query parameters as outlined above.</p><p>If the <code>scope</code> parameter is omitted the token retrieved at the end of this process will be valid for all scopes your application has registered. You can restrict the token to a subset of the registered scopes by using the <code>scope</code> parameter. Refer to section of RFC 6749 for the exact syntax to specify scopes within a query string. Again, this is optional; by default the OAuth exchange will use the scopes registered for your application.</p><p>The <code>state</code> parameter is a string value supplied by the partner server and returned back to the partner server later when the browser is redirected to the supplied redirect URI. It can be useful to encode such information as the document and workspace ID from the URL that initiates the OAuth process into the state parameter.</p><p>The <code>company_id</code> parameter identifies the specific Onshape company of the user requesting the token. OAuth tokens are unique to the combination of user and company. If the user is a member of more than one company and the <code>company_id</code> parameter is not supplied the user will automatically be prompted to select from a list of eligible companies. Integrated applications are supplied with a company identifier alongside other initial startup parameters for the document the app is installed against when they&rsquo;re first loaded.</p><p><em>Note</em> this should be a GET operation and should supply all the values as URL encoded query parameters. In particular the OAuth client id typically has at least one trailing <code>=</code> which must be URL encoded (replaced with <code>%3D</code> in the query parameter) in order to be handled correctly.</p><p>When the browser fetches the redirected <code>https://oauth.onshape.com/oauth/authorize</code> URL the user may be prompted to login (if the used is not currently logged in to Onshape) and is presented with a page describing your application and the scopes that it is requesting. The user can choose to Grant or Deny the request - after this choice is made the browser is redirected to the location specified by the <code>redirect_uri</code> if present in the request, or the default location entered during application registration.</p><p>The redirection will cause the browser to GET <code>https://&lt;redirect_uri>?code=&lt;code>&amp;state=&lt;state></code> (if no state value was supplied initially it will be omitted in this GET). If an error occurs the browser is redirected to <code>https://&lt;redirect_uri>?error=&lt;error_code>&amp;state=&lt;state></code> A list of possible error codes is given at section 4.1.2.1 of RFC 6749. If the user denies your application access then the <code>error_code</code> will be <code>access_denied</code> though other values may also be encountered.</p><p>At this point your web server application should extract the <code>code</code> query string parameter value and use it in the subsequent phase to obtain an access token. This authorization code is a one-time use token, and is valid for only a short duration. If the code is not exchanged for an access token within 60 seconds after it is issued, it expires.</p><h3 id=exchanging-the-code-for-a-token>Exchanging the code for a token</h3><p>Using the authorization code from the above exchange, your application can now obtain the OAuth access token. The application makes a POST HTTP request to <code>https://oauth.onshape.com/oauth/token</code>, with the following data provided as a URL-encoded form body with Content-Type <code>application/x-www-form-urlencoded</code>:</p><p><code>grant_type=authorization_code&amp;code=&lt;code>&amp;client_id=&lt;client id>&amp;client_secret=&lt;client_secret></code></p><p>Additionally if a redirect URI was supplied as an additional parameter in the initial GET of <code>/oauth/authorize</code> it must also be supplied here.</p><p><em>Note</em> Each parameter must be URL encoded - as before the client ID and client secret both have trailing <code>=</code> which must be replaced with <code>%3D</code>. Do <em>not</em> encode the entire body of the POST request - the <code>=</code> separating parameter name and value must be left intact. This is a POST operation with the body of the POST message containing the data to complete the OAuth request for an access token. It is <em>not</em> a GET operation with the additional data supplied as query parameters.</p><p>In response to a valid POST request the server returns a JSON encoded structure:</p><pre tabindex=0><code>{
  &#34;access_token&#34;:&#34;&lt;access token&gt;&#34;,
  &#34;token_type&#34;:&#34;Bearer&#34;,
  &#34;expires_in&#34;:3600,
  &#34;refresh_token&#34;:&#34;&lt;refresh token&gt;&#34;,
}
</code></pre><p>This token structure can be stored by your server as data unique to the user who initiated the request or you can make it part of the server side session storage for this users session with your server.</p><h3 id=using-the-access-token>Using the access token</h3><p>The &lsquo;access_token&rsquo; must be supplied on all subsequent Onshape API requests as a header value: <code>Authorization: Bearer &lt;access_token></code> The access token uniquely identifies the combination of your application, the Onshape user and the set of permissions granted for the access token.</p><p>The access token has a limited lifetime of 60 minutes, after which it will no longer work and attempts to use it will result in an error response for an Onshape API request. The application must use the refresh token returned by the original authorization code exchange to generate new access tokens</p><h3 id=refreshing-the-access-token>Refreshing the access token</h3><p>When the access token expires it must be refreshed by making another POST request to <code>https://oauth.onshape.com/oauth/token</code> with the following URL encoded form body (again, with Content-Type <code>application/x-www-form-urlencoded</code>):</p><p><code>grant_type=refresh_token&amp;refresh_token=&lt;refresh_token>&amp;client_id=&lt;client_id>&amp;client_secret=&lt;client_secret></code>.</p><p>As with the authorization code data, the parameters in the form body must be URL encoded. The response to this POST request will be a JSON encoded structure as before with a new <code>access_token</code> value that can be used for the next 60 minutes.</p><p>Refresh tokens are valid for the lifetime of the user&rsquo;s grant. If a user who has previously granted access to your application decides to revoke the grant, the refresh token is invalidated. If the user decides to re-grant application access, a new refresh token is generated and returned along with the access token.</p><h2 id=notes-for-developers-of-installed-desktop-applications>Notes for developers of installed desktop applications</h2><p>OAuth is designed for interactions between two servers utilizing a browser. However it can also be used by an installed desktop (or mobile) application. The application must perform a similar role to that of a third party server - it must exchange the code for an access token structure.</p><p>In order to enable this to be as automatic as possible Onshape allows two special forms of redirect URI to be registered: <code>http://localhost:&lt;port></code> and <code>urn:ietf:wg:oauth:2.0:oob</code></p><p>The first causes the browser to attempt to load a page from the host upon which it is running. The code parameter etc will be supplied exactly the same as outlined above. If the application can listen on the registered port and behave as a simple web server for the redirect URI it can retrieve the code in the same way as a deployed web server would.</p><p>The second will cause the browser to display a simple page containing the code after a request has been granted instead of going to a new URI. The page contains simple instructions to copy and paste the code into an application field. The browser will also update the title of the window to contain the code. An application could also look for browsers with window titles containing the string <code>Success code=&lt;code></code> and automatically grab the code from the browser window title. If an error occurs (the grant is denied for example) then the browser window title will contain <code>Error description=&lt;error string></code></p><h2 id=notes-for-debugging>Notes for debugging</h2><p>Debugging OAuth can be a little tricky. Here are some things to bear in mind:</p><ol><li><p>Make sure you are correctly URL encoding the values supplied to the oauth/authorize and oauth/token endpoints.</p></li><li><p>Use a <code>GET /oauth/authorize</code> but a <code>POST /oauth/token</code> and make sure that the GET uses query parameters but that the POST uses a URL encoded form body.</p></li><li><p>If you supply a <code>redirect_uri</code> to <code>/oauth/authorize</code> you must also supply it as an additional parameter in the POST to /oauth/token</p></li><li><p>Use a tool such as Burp (<a href=https://portswigger.net/burp target=_blank><a href=https://portswigger.net/burp>https://portswigger.net/burp</a></a>) or Charles (<a href=http://charlesproxy.com target=_blank><a href=http://charlesproxy.com>http://charlesproxy.com</a></a>) to deliberately &lsquo;man-in-the-middle&rsquo; the connection requests between your server and Onshape, and verify that you are performing the correct REST operations (GET vs. POST) and correctly URL encoding the parameter values.</p></li></ol></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.7b55bf6c6b7512854e4a08bbd237c127d647ad103c3548888d50711b16bbde24.js integrity="sha256-e1W/bGt1EoVOSgi70jfBJ9ZHrRA8NUiIjVBxGxa73iQ=" crossorigin=anonymous></script></body></html>