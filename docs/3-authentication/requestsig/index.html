<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.115.2"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Request Signature | Onshape Developer Documentation</title><meta name=description content="Custom Authentication
Basic Authorization via API Keys can be used for quick prototyping and testing. For production use, however, Onshape requires â€¦"><meta property="og:title" content="Request Signature"><meta property="og:description" content="Custom Authentication Basic Authorization via API Keys can be used for quick prototyping and testing. For production use, however, Onshape requires OAuth or this custom authentication process via request signature.
To ensure that a request is coming from you, we have a process for signing requests that you must follow for API calls to work. Everything is done via HTTP headers that you&rsquo;ll need to set:
Date: A standard date header giving the time of the request; must be accurate within 5 minutes of request."><meta property="og:type" content="article"><meta property="og:url" content="https://onshape-public.github.io/docs/3-authentication/requestsig/"><meta property="article:section" content="docs"><meta itemprop=name content="Request Signature"><meta itemprop=description content="Custom Authentication Basic Authorization via API Keys can be used for quick prototyping and testing. For production use, however, Onshape requires OAuth or this custom authentication process via request signature.
To ensure that a request is coming from you, we have a process for signing requests that you must follow for API calls to work. Everything is done via HTTP headers that you&rsquo;ll need to set:
Date: A standard date header giving the time of the request; must be accurate within 5 minutes of request."><meta itemprop=wordCount content="516"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Request Signature"><meta name=twitter:description content="Custom Authentication Basic Authorization via API Keys can be used for quick prototyping and testing. For production use, however, Onshape requires OAuth or this custom authentication process via request signature.
To ensure that a request is coming from you, we have a process for signing requests that you must follow for API calls to work. Everything is done via HTTP headers that you&rsquo;ll need to set:
Date: A standard date header giving the time of the request; must be accurate within 5 minutes of request."><link rel=preload href=/scss/main.min.b62e58da7255459c03616973d5e57025c9e05acf735fe51d880fde377e61cf51.css as=style><link href=/scss/main.min.b62e58da7255459c03616973d5e57025c9e05acf735fe51d880fde377e61cf51.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script><style>code{white-space:pre-wrap!important;overflow-wrap:break-word}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-3CY8X7Q128"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3CY8X7Q128",{anonymize_ip:!1})}</script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class=font-weight-bold>Onshape Developer Documentation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ title="Welcome to the Onshape Developer Documentation" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Welcome</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs1-introduction-li><a href=/docs/1-introduction/ title="Introduction to the Onshape REST API" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docs1-introduction><span>API Intro</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs1-introductionarchitecture-li><a href=/docs/1-introduction/architecture/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs1-introductionarchitecture><span>Onshape Architecture</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs1-introductionwhyonshape-li><a href=/docs/1-introduction/whyonshape/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs1-introductionwhyonshape><span>Why Onshape?</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs2-quickstart-li><a href=/docs/2-quickstart/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docs2-quickstart><span>Quick Start</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs3-authentication-li><a href=/docs/3-authentication/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docs3-authentication><span>Authentication</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs3-authenticationapikeys-li><a href=/docs/3-authentication/apikeys/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs3-authenticationapikeys><span>API Keys</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs3-authenticationrequestsig-li><a href=/docs/3-authentication/requestsig/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docs3-authenticationrequestsig><span class=td-sidebar-nav-active-item>Request Signature</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs3-authenticationoauth-li><a href=/docs/3-authentication/oauth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs3-authenticationoauth><span>OAuth</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs4-advanced-apis-li><a href=/docs/4-advanced-apis/ title="Advanced API Development" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docs4-advanced-apis><span>Advanced APIs</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs4-advanced-apisassociativity-li><a href=/docs/4-advanced-apis/associativity/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs4-advanced-apisassociativity><span>Associativity</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs4-advanced-apisbilling-li><a href=/docs/4-advanced-apis/billing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs4-advanced-apisbilling><span>Billing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs4-advanced-apisfeatureaccess-li><a href=/docs/4-advanced-apis/featureaccess/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs4-advanced-apisfeatureaccess><span>Feature List API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs4-advanced-apistranslation-li><a href=/docs/4-advanced-apis/translation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs4-advanced-apistranslation><span>Model Translation</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs5-app-dev-li><a href=/docs/5-app-dev/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docs5-app-dev><span>App Development</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs5-app-devappstore-li><a href=/docs/5-app-dev/appstore/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs5-app-devappstore><span>Onshape App Store</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs5-app-devextensions-li><a href=/docs/5-app-dev/extensions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs5-app-devextensions><span>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs5-app-devclientmessaging-li><a href=/docs/5-app-dev/clientmessaging/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs5-app-devclientmessaging><span>Client Messaging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs5-app-devstructuredstorage-li><a href=/docs/5-app-dev/structuredstorage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs5-app-devstructuredstorage><span>Structured Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs5-app-devwebhook-li><a href=/docs/5-app-dev/webhook/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs5-app-devwebhook><span>Webhook Notifications</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs5-app-devtestingguidelines-li><a href=/docs/5-app-dev/testingguidelines/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs5-app-devtestingguidelines><span>Testing Guidelines</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs6-tutorials-li><a href=/docs/6-tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docs6-tutorials><span>Sample Tutorials</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs6-tutorialssync-li><a href=/docs/6-tutorials/sync/ title="Sync Data and Metadata" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs6-tutorialssync><span>Sync Data</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs6-tutorialsreleases-li><a href=/docs/6-tutorials/releases/ title="Sync Releases and Revisions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs6-tutorialsreleases><span>Sync Releases</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs6-tutorialsderivative-li><a href=/docs/6-tutorials/derivative/ title="Generate Derivative Files" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs6-tutorialsderivative><span>Derivative Files</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs6-tutorialscreateextention-li><a href=/docs/6-tutorials/createextention/ title="Create an Extension" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docs6-tutorialscreateextention><span>Extensions</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs7-help-li><a href=/docs/7-help/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docs7-help><span>Get Help</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docschangelog-li><a href=/docs/changelog/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docschangelog><span>Changelog</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#custom-authentication>Custom Authentication</a></li><li><a href=#redirects>Redirects</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://onshape-public.github.io/docs/>Welcome</a></li><li class=breadcrumb-item><a href=https://onshape-public.github.io/docs/3-authentication/>Authentication</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://onshape-public.github.io/docs/3-authentication/requestsig/>Request Signature</a></li></ol></nav><div class=td-content><h1>Request Signature</h1><header class=article-meta></header><h3 id=custom-authentication>Custom Authentication</h3><p>Basic Authorization via API Keys can be used for quick prototyping and testing. For production use, however, Onshape requires <a href=/docs/3-authentication/oauth>OAuth</a> or this custom authentication process via request signature.</p><p>To ensure that a request is coming from you, we have a process for signing requests that you must follow for API calls to work. Everything is done via HTTP headers that you&rsquo;ll need to set:</p><ol><li><em>Date</em>: A standard date header giving the time of the request; must be accurate within <strong>5 minutes</strong> of request. Example: <code>Mon, 11 Apr 2016 20:08:56 GMT</code></li><li><em>On-Nonce</em>: A string that satisfies the following requirements (see the code for one possible way to generate it):<ul><li>At least 16 characters</li><li>Alphanumeric</li><li>Unique for each request</li></ul></li><li><em>Authorization</em>: This is where the API keys come into play. You&rsquo;ll sign the request by implementing this algorithm:<ul><li><strong>Input</strong>: Method, URL, On-Nonce, Date, Content-Type, AccessKey, SecretKey</li><li><strong>Output</strong>: String of the form: <code>On &lt;AccessKey>:HmacSHA256:&lt;Signature></code></li><li><strong>Steps to generate the signature portion</strong>:<ol><li>Parse the URL and get the following:<ol><li>The path, e.g. <code>/api/documents</code> (no query params!)</li><li>The query string, e.g. <code>a=1&amp;b=2</code><ul><li>NOTE: If no query paramaters are present, use an empty string</li></ul></li></ol></li><li>Create a string by appending the following information in order. Each field should be separated by a newline (<code>\n</code>) character, and the string must be converted to lowercase:<ol><li>HTTP method</li><li>On-Nonce header value</li><li>Date header value</li><li>Content-Type header value</li><li>URL pathname</li><li>URL query string</li></ol></li><li>Using SHA-256, generate an <a href=https://en.wikipedia.org/wiki/Hash-based_message_authentication_code target=_blank>HMAC digest</a>, using the API secret key first and then the above string, then encode it in Base64.</li><li>Create the <code>On &lt;AccessKey>:HmacSHA256:&lt;Signature></code> string and use that in the Authorization header in your request.</li></ol></li></ul></li></ol><p>Below is an example function to generate the authorization header, using Node.js&rsquo;s standard <code>crypto</code> and <code>url</code> libraries:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#aaa;font-style:italic>// ...at top of file
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic></span><span style=color:#00a>var</span> u = require(<span style=color:#a50>&#39;url&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#00a>var</span> crypto = require(<span style=color:#a50>&#39;crypto&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>/**
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* Generates the &#34;Authorization&#34; HTTP header for using the Onshape API
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>*
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* @param {string} method - Request method; GET, POST, etc.
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* @param {string} url - The full request URL
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* @param {string} nonce - 25-character nonce (generated by you)
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* @param {string} authDate - UTC-formatted date string (generated by you)
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* @param {string} contentType - Value of the &#34;Content-Type&#34; header; generally &#34;application/json&#34;
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* @param {string} accessKey - API access key
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* @param {string} secretKey - API secret key
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>*
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>* @return {string} Value for the &#34;Authorization&#34; header
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic>*/</span>
</span></span><span style=display:flex><span><span style=color:#00a>function</span> createSignature(method, url, nonce, authDate, contentType, accessKey, secretKey) {
</span></span><span style=display:flex><span>    <span style=color:#00a>var</span> urlObj = u.parse(url);
</span></span><span style=display:flex><span>    <span style=color:#00a>var</span> urlPath = urlObj.pathname;
</span></span><span style=display:flex><span>    <span style=color:#00a>var</span> urlQuery = urlObj.query ? urlObj.query : <span style=color:#a50>&#39;&#39;</span>; <span style=color:#aaa;font-style:italic>// if no query, use empty string
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#00a>var</span> str = (method + <span style=color:#a50>&#39;\n&#39;</span> + nonce + <span style=color:#a50>&#39;\n&#39;</span> + authDate + <span style=color:#a50>&#39;\n&#39;</span> + contentType + <span style=color:#a50>&#39;\n&#39;</span> +
</span></span><span style=display:flex><span>        urlPath + <span style=color:#a50>&#39;\n&#39;</span> + urlQuery + <span style=color:#a50>&#39;\n&#39;</span>).toLowerCase();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#00a>var</span> hmac = crypto.createHmac(<span style=color:#a50>&#39;sha256&#39;</span>, secretKey)
</span></span><span style=display:flex><span>        .update(str)
</span></span><span style=display:flex><span>        .digest(<span style=color:#a50>&#39;base64&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#00a>var</span> signature = <span style=color:#a50>&#39;On &#39;</span> + accessKey + <span style=color:#a50>&#39;:HmacSHA256:&#39;</span> + hmac;
</span></span><span style=display:flex><span>    <span style=color:#00a>return</span> signature;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=redirects>Redirects</h3><p>Some API endpoints return 307 redirects. You must generate an Authorization header for the redirect as well, but please note that the server portion of the URL might be different, the redirect URL may contain query parameters that must be encoded in the Authorization header, etc.</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.7b55bf6c6b7512854e4a08bbd237c127d647ad103c3548888d50711b16bbde24.js integrity="sha256-e1W/bGt1EoVOSgi70jfBJ9ZHrRA8NUiIjVBxGxa73iQ=" crossorigin=anonymous></script></body></html>