<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.115.4"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Extensions | Onshape Developer Documentation</title><meta name=description content="This page provides information for some of the more common options for
embedding a third-party application into the Onshape interface. Onshape …"><meta property="og:title" content="Extensions"><meta property="og:description" content="This page provides information for some of the more common options for embedding a third-party application into the Onshape interface. Onshape provides many options for embedding commands in various menus, fly-out panels, and elements. In this example, you will embed a custom web page inside a document’s right side fly-out panel. This interface will receive information from Onshape and push information from the panel back to Onshape, providing a complete, bi-directional integration scenario."><meta property="og:type" content="article"><meta property="og:url" content="https://onshape-public.github.io/docs/app-dev/extensions/"><meta property="article:section" content="docs"><meta itemprop=name content="Extensions"><meta itemprop=description content="This page provides information for some of the more common options for embedding a third-party application into the Onshape interface. Onshape provides many options for embedding commands in various menus, fly-out panels, and elements. In this example, you will embed a custom web page inside a document’s right side fly-out panel. This interface will receive information from Onshape and push information from the panel back to Onshape, providing a complete, bi-directional integration scenario."><meta itemprop=wordCount content="2132"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Extensions"><meta name=twitter:description content="This page provides information for some of the more common options for embedding a third-party application into the Onshape interface. Onshape provides many options for embedding commands in various menus, fly-out panels, and elements. In this example, you will embed a custom web page inside a document’s right side fly-out panel. This interface will receive information from Onshape and push information from the panel back to Onshape, providing a complete, bi-directional integration scenario."><link rel=preload href=/scss/main.min.b62e58da7255459c03616973d5e57025c9e05acf735fe51d880fde377e61cf51.css as=style><link href=/scss/main.min.b62e58da7255459c03616973d5e57025c9e05acf735fe51d880fde377e61cf51.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script><style>code{white-space:pre-wrap!important;overflow-wrap:break-word}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-3CY8X7Q128"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3CY8X7Q128",{anonymize_ip:!1})}</script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class=font-weight-bold>Onshape Developer Documentation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ title="Welcome to the Onshape Developer Documentation" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Welcome</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsapi-intro-li><a href=/docs/api-intro/ title="Introduction to the Onshape REST API" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsapi-intro><span>API Intro</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-introarchitecture-li><a href=/docs/api-intro/architecture/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-introarchitecture><span>Onshape Architecture</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-introwhyonshape-li><a href=/docs/api-intro/whyonshape/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-introwhyonshape><span>Why Onshape?</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-introquickstart-li><a href=/docs/api-intro/quickstart/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-introquickstart><span>Quick Start</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsauth-li><a href=/docs/auth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsauth><span>Authentication</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsauthapikeys-li><a href=/docs/auth/apikeys/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsauthapikeys><span>API Keys</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsauthrequestsig-li><a href=/docs/auth/requestsig/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsauthrequestsig><span>Request Signature</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsauthoauth-li><a href=/docs/auth/oauth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsauthoauth><span>OAuth</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsapi-adv-li><a href=/docs/api-adv/ title="Advanced API Development" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsapi-adv><span>Advanced APIs</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-advassociativity-li><a href=/docs/api-adv/associativity/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advassociativity><span>Associativity</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-advbilling-li><a href=/docs/api-adv/billing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advbilling><span>Billing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-advfeatureaccess-li><a href=/docs/api-adv/featureaccess/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advfeatureaccess><span>Feature List API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-advtranslation-li><a href=/docs/api-adv/translation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advtranslation><span>Model Translation</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsapp-dev-li><a href=/docs/app-dev/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsapp-dev><span>App Development</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapp-devextensions-li><a href=/docs/app-dev/extensions/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docsapp-devextensions><span class=td-sidebar-nav-active-item>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapp-devclientmessaging-li><a href=/docs/app-dev/clientmessaging/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-devclientmessaging><span>Client Messaging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapp-devstructuredstorage-li><a href=/docs/app-dev/structuredstorage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-devstructuredstorage><span>Structured Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapp-devwebhook-li><a href=/docs/app-dev/webhook/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-devwebhook><span>Webhook Notifications</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsapp-store-li><a href=/docs/app-store/ title="Onshape App Store" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsapp-store><span>App Store</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapp-storechecklist-li><a href=/docs/app-store/checklist/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-storechecklist><span>Launch Checklist</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapp-storetestingguidelines-li><a href=/docs/app-store/testingguidelines/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-storetestingguidelines><span>Testing Guidelines</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapp-storequality-li><a href=/docs/app-store/quality/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-storequality><span>Quality Considerations</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docstutorials-li><a href=/docs/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docstutorials><span>Sample Tutorials</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialssync-li><a href=/docs/tutorials/sync/ title="Sync Data and Metadata" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialssync><span>Sync Data</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsreleases-li><a href=/docs/tutorials/releases/ title="Sync Releases and Revisions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialsreleases><span>Sync Releases</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsderivative-li><a href=/docs/tutorials/derivative/ title="Generate Derivative Files" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialsderivative><span>Derivative Files</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialscreateextension-li><a href=/docs/tutorials/createextension/ title="Create an Extension" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialscreateextension><span>Extensions</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshelp-li><a href=/docs/help/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshelp><span>Get Help</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docschangelog-li><a href=/docs/changelog/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docschangelog><span>Changelog</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#extension-types>Extension Types</a></li><li><a href=#extension-attributes>Extension Attributes</a></li><li><a href=#supported-locations-and-contexts>Supported Locations and Contexts</a><ul><li><a href=#element-context-menu>Element context menu</a></li><li><a href=#tree-context-menu>Tree context menu</a></li><li><a href=#document-list-context-menu>Document list context menu</a></li><li><a href=#document-list-info-panel>Document list info panel</a></li><li><a href=#element-right-panel>Element right panel</a></li><li><a href=#new-element-tab>New Element tab</a></li><li><a href=#part-number-generator>Part number generator</a></li></ul></li><li><a href=#sample-code>Sample code</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://onshape-public.github.io/docs/>Welcome</a></li><li class=breadcrumb-item><a href=https://onshape-public.github.io/docs/app-dev/>App Development</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://onshape-public.github.io/docs/app-dev/extensions/>Extensions</a></li></ol></nav><div class=td-content><h1>Extensions</h1><header class=article-meta></header><p>This page provides information for some of the more common options for
embedding a third-party application into the Onshape interface. Onshape provides many options for embedding commands in various menus, fly-out panels, and elements. In this example, you will embed a custom web page inside a document’s right side fly-out panel. This interface will receive information from Onshape and push information from the panel back to Onshape, providing a complete, bi-directional integration scenario.</p><p>Please see also:</p><ul><li><a href=/docs/tutorials/createextension/>Create an Extension tutorial</a>: A step-by-step walkthrough of creating an extension.</li><li>Create an Extension Video Sample:
<a href="https://onshape.wistia.com/medias/0ivxxngkjz?embedType=async&seo=false&videoFoam=true&videoWidth=640&wvideo=0ivxxngkjz)"><img src=/images/ExtensionsVideoCard.png style=width:5in alt="OAuth app creation video"></a></li></ul><h2 id=extension-types>Extension Types</h2><p>We can classify extensions into two high-level types. The first type embeds a UI <em>from</em> the application <em>into</em> the Onshape UI. The embedded UI is an HTTPS page displayed in an iFrame in the Onshape UI. The UI is served from the application, and can choose to make API calls to Onshape for additional information. This is exactly like the traditional tab-based applications in Onshape, except that such extensions exist at different UI locations.</p><p>The second type of extension embeds an action that calls a REST API <em>exposed by</em> the application <em>from</em> the Onshape UI (e.g., context menu actions and toolbar actions). These types of extensions rely on External OAuth information to authenticate and make a call where Onshape acts as a client, and the application acts as a server.</p><h2 id=extension-attributes>Extension Attributes</h2><p>Each extension exists at a specific place in the Onshape UI and works with a specific context or selection. The attributes of an extension are:</p><ol><li><strong>Name</strong>: This should be short and explicit. It will appear in the Onshape UI as a menu item, a toolbar tooltip, a collapsed panel icon tooltip, or a panel icon. It might be truncated in the UI if it is too long.</li><li><strong>Description</strong>: This is where the developer can record a detailed description of the extension. It does not appear in the Onshape UI, but could appear in the grant process.</li><li><strong>Location</strong>: This describes where the extension exists in the Onshape UI. Over time, this will cover various panels in the UI, context menus, toolbars, actions in dialogs, etc. You can see the list of currently supported locations <a href=#supported-locations-and-contexts>here</a>.<ul><li>Please note that you can create only one element tab extension per application.</li></ul></li><li><strong>Context</strong> (selection): Some locations will work in the context of a selection. Let’s say the application developer wants to show some information from a third-party system, pertinent only to parts (not assemblies or drawings). In this scenario, the developer would choose a location like ‘Document list info panel’, and the context as ‘Selected part’. If the user searches for something in the document list, some documents, Part Studios, parts, and Assemblies would be returned. This extension will show up in the Info panel only if the selected entity is a part. Using context enables application developers to control when the extension is displayed. Check the list of contexts available for different locations <a href=#supported-locations-and-contexts>here</a>.</li><li><strong>Action URL</strong>: Locations that embed a UI use the action URL to define the address of the page to display. The action URL is used to specify the REST endpoint if the location is an action (context menu, toolbar item, action in dialog etc.) and the action type is GET or POST. If the location is an action and the action is ‘Open in new window’, the action URL is the URL to open in the new window.<br>The action URL can be parameterized to pass information from Onshape to the application. The action URL replaces attributes in the format {$attribute} with the appropriate value. These attributes can be used to identify the selected entity and/or make calls back to Onshape via the API. The currently supported attributes are:<ul><li><code>{$documentId}</code> - The Onshape ID for the current or selected document.</li><li><code>{$workspaceOrVersion}</code> - This will be either <code>w</code> or <code>v</code> for workspace or version respectively depending on current opened document state or selection.</li><li><code>{$workspaceOrVersionId}</code> - The Onshape ID for the current or selected workspace or version.</li><li><code>{$workspaceId}</code> - DEPRECATED</li><li><code>{$versionId}</code> - DEPRECATED</li><li><code>{$elementId}</code> - The Onshape ID for the current or selected element (part studio, assembly, drawing).</li><li><code>{$partId}</code> - The Onshape ID for the current or selected part.</li><li><code>{$partNumber}</code> - The Part number property for the current or selected part, assembly or drawing.</li><li><code>{$revision}</code> - The Revision property for the current or selected part, assembly or drawing.</li><li><code>{$mimeType}</code> - The mime type if the current or selected element is a blob.</li><li><code>{$featureId}</code> - In case of feature selected in the Feature list in a Part Studio.</li><li><code>{$nodeId}</code> - In case of mate or mate feature selected in the Assembly list.</li><li><code>{$occurrencePath}</code> - In case of part instances, mates, mate connectors and sub assemblies.</li><li><code>{$configuration}</code> - In case of extensions inside the document, this attribute will be replaced by current element active configuration.</li></ul></li></ol><p>The attributes can exist as path parameters or query parameters or attributes in the POST body. For example:</p><pre tabindex=0><code>[https://whispering-sea-42267.herokuapp.com/oauthSignin?documentId={$documentId}&amp;workspaceOrVersion={workspaceOrVersion}&amp;workspaceOrVersionId={$workspaceOrVersionId}&amp;elementId={$elementId}&amp;partId={$partId}&amp;server=https://cad.onshape.com&amp;companyId=cad&amp;userId=5f1eba76c14a434817d9c588&amp;locale=en-US](https://whispering-sea-42267.herokuapp.com/oauthSignin?documentId=%7B$documentId%7D&amp;workspaceId=%7B$workspaceId%7D&amp;elementId=%7B$elementId%7D&amp;partId=%7B$partId) 
</code></pre><p>or</p><pre tabindex=0><code>[https://cad.onshape.com/api/partstudios/d/{$documentId}/{$workspaceOrVersion}/{$workspaceOrVersionId}/e/{$elementId}/stl?server=https://cad.onshape.com&amp;companyId=cad&amp;userId=5f1eba76c14a434817d9c588&amp;locale=en-US](https://cad.onshape.com/api/partstudios/d/%7B$documentId%7D/w/%7B$workspaceId%7D/e/%7B$elementId%7D/stl) 
</code></pre><p>The attributes available for replacement differ by location and context selection. You can see the available attributes for each location <a href=#supported-locations-and-contexts>here</a>.</p><p>The <strong>timeout</strong> for <code>action_url</code> of type <code>GET</code> or <code>POST</code> is <strong>180 seconds</strong>.</p><ol start=6><li><p><strong>Action type</strong>: The action type is only applicable for locations that act as actions and not for locations that embed UIs. Check if action type is valid for a location <a href=#supported-locations-and-contexts>here</a>. The supported action types are:</p><ul><li><code>GET</code> - This makes a GET API call using the action URL. Parameter replacement is done on the action URL.</li><li><code>POST</code> - This makes a POST API call using the action URL and the action body as the post body. Parameter replacement is done on both the action URL and the action body.</li><li><code>Open in new window</code> - This opens the action URL in a new browser window. Parameter replacement is done on the action URL.</li></ul></li><li><p><strong>Action body</strong>: This is only applicable if the action type is POST. The action body is passed in a POST API call and must be in a valid json format.</p></li><li><p><strong>Show response</strong>: This is only applicable if the action type is GET or POST. If this is checked, the UI will wait for a response and show the response in a dialog in the UI. The response must be in a valid json format.</p></li><li><p><strong>Icon</strong>: The icon will be shown where the extension exists. This can be an icon in an Info panel, context menu action, toolbar button, action button in a dialog, or other supported locations.</p></li></ol><h2 id=supported-locations-and-contexts>Supported Locations and Contexts</h2><p>This is the list of supported locations, their valid contexts, and whether they support action types.</p><h3 id=element-context-menu>Element context menu</h3><p>This is the context menu for elements.</p><p><img src=/images/extensionsimage04.png alt="image alt text"></p><p>Supported contexts:</p><ul><li><code>Part Studio</code></li><li><code>Assembly</code></li><li><code>Drawing</code></li><li><code>Blob element</code></li></ul><p>Supported parameters for replacements:</p><ul><li><code>{$documentId}</code></li><li><code>{$workspaceOrVersion}</code></li><li><code>{$workspaceOrVersionId}</code></li><li><code>{$workspaceId}</code> DEPRECATED</li><li><code>{$versionId}</code> DEPRECATED</li><li><code>{$elementId}</code></li><li><code>{$partNumber}</code></li><li><code>{$mimeType}</code></li><li><code>{$configuration}</code></li></ul><p>Default parameters as query string:</p><ul><li><code>server</code></li><li><code>companyId</code> - Default value is ‘cad’. If the document owner is company/enterprise, then the value is company/enterprise ID.</li><li><code>userId</code></li><li><code>locale</code></li><li><code>clientId</code></li></ul><p>This location supports action types.</p><h3 id=tree-context-menu>Tree context menu</h3><p>This is the context menu for the part tree, assembly tree and feature tree in part studios.</p><p><img src=/images/extensionsimage05.png alt="image alt text"></p><p>Supported contexts:</p><ul><li><code>Part</code></li><li><code>Sub assembly</code></li><li><code>Feature</code></li><li><code>Mate</code></li><li><code>Mate feature</code></li><li><code>Instance</code></li></ul><p>Supported parameters for replacement:</p><ul><li><code>{$documentId}</code></li><li><code>{$workspaceOrVersion}</code></li><li><code>{$workspaceOrVersionId}</code></li><li><code>{$workspaceId}</code> DEPRECATED</li><li><code>{$versionId}</code> DEPRECATED</li><li><code>{$elementId}</code></li><li><code>{$partNumber}</code></li><li><code>{$revision}</code></li><li><code>{$featureId}</code></li><li><code>{$nodeId}</code></li><li><code>{$occurrencePath}</code></li><li><code>{$configuration}</code></li></ul><p>Default parameters as query string:</p><ul><li><code>server</code></li><li><code>companyId</code> - Default value is ‘cad’. If the document owner is company/enterprise, then the value is company/enterprise ID.</li><li><code>userId</code></li><li><code>locale</code></li><li><code>clientId</code></li></ul><p>This location supports action types.</p><h3 id=document-list-context-menu>Document list context menu</h3><p>This the context menu available on items in the document list. This is normally documents but can be multiple types based on search results.</p><p><img src=/images/extensionsimage06.png alt="image alt text"></p><p>Supported contexts:</p><ul><li><code>Part</code></li><li><code>Document</code></li><li><code>Part Studio</code></li><li><code>Assembly</code></li><li><code>Drawing</code></li><li><code>Blob element</code></li></ul><p>Supported parameters for replacement:</p><ul><li><code>{$documentId}</code></li><li><code>{$workspaceOrVersion}</code></li><li><code>{$workspaceOrVersionId}</code></li><li><code>{$workspaceId}</code> DEPRECATED</li><li><code>{$versionId}</code> DEPRECATED</li><li><code>{$elementId}</code></li><li><code>{$partNumber}</code></li><li><code>{$revision}</code></li><li><code>{$configuration}</code></li></ul><p>Default parameters as query string:</p><ul><li><code>server</code></li><li><code>companyId</code> - Default value is ‘cad’. If the document owner is company/enterprise, then the value is company/enterprise ID.</li><li><code>userId</code></li><li><code>locale</code></li><li><code>clientId</code></li></ul><p>This location supports action types.</p><h3 id=document-list-info-panel>Document list info panel</h3><p>This is the Info panel to the right in the document list. The document list normally contains documents, but can contain other entities as the result of a search.</p><p><img src=/images/extensionsimage07.png alt="image alt text"></p><p>Supported contexts:</p><ul><li><code>Part</code></li><li><code>Document</code></li><li><code>Part Studio</code></li><li><code>Assembly</code></li><li><code>Drawing</code></li><li><code>Blob element</code></li></ul><p>Supported parameters for replacement:</p><ul><li><code>{$documentId}</code></li><li><code>{$workspaceOrVersion}</code></li><li><code>{$workspaceOrVersionId}</code></li><li><code>{$workspaceId}</code> DEPRECATED</li><li><code>{$versionId}</code> DEPRECATED</li><li><code>{$elementId}</code></li><li><code>{$partId}</code></li></ul><p>Default parameters as query string:</p><ul><li><code>server</code></li><li><code>companyId</code> - Default value is ‘cad’. If the document owner is company/enterprise, then the value is company/enterprise ID.</li><li><code>userId</code></li><li><code>locale</code></li><li><code>clientId</code></li></ul><p>This location does NOT support action types.</p><h3 id=element-right-panel>Element right panel</h3><p>This is the panel inside a document. It currently houses the BOM, configurations, etc. Applications can use this extension location to add items in this panel.</p><p><img src=/images/extensionsimage08.png alt="image alt text"></p><p>Supported contexts:</p><ul><li><code>Part</code></li><li><code>Document</code></li><li><code>Part Studio</code></li><li><code>Assembly</code></li><li><code>Sub assembly</code></li><li><code>Feature</code></li><li><code>Mate</code></li><li><code>Mate feature</code></li></ul><p>Supported parameters for replacement:</p><ul><li><code>{$documentId}</code></li><li><code>{$workspaceOrVersion}</code></li><li><code>{$workspaceOrVersionId}</code></li><li><code>{$workspaceId}</code> DEPRECATED</li><li><code>{$versionId}</code> DEPRECATED</li><li><code>{$elementId}</code></li><li><code>{$partNumber}</code></li><li><code>{$revision}</code></li><li><code>{$featureId}</code></li><li><code>{$nodeId}</code></li><li><code>{$occurrencePath}</code></li><li><code>{$configuration}</code></li></ul><p>Default parameters as query string:</p><ul><li><code>server</code></li><li><code>companyId</code> - Default value is ‘cad’. If the document owner is company/enterprise, then the value is company/enterprise ID.</li><li><code>userId</code></li><li><code>locale</code></li><li><code>clientId</code></li></ul><p>This location does NOT support action types.</p><h3 id=new-element-tab>New Element tab</h3><p>This is the menu option for <code>+ menu -> Add application</code> inside a document . After menu click, a new tab will be created with the action url associated with this extension.</p><p><img src=/images/extensionsimage09.png alt="image alt text"></p><p>Supported contexts:</p><ul><li>There are no supported contexts.</li></ul><p>Supported parameters for replacement:</p><ul><li>Parameter replacement not supported.</li></ul><p>Default parameters as query string:</p><ul><li><code>documentId</code></li><li><code>workspaceId</code></li><li><code>versionId</code></li><li><code>elementId</code></li><li><code>server</code></li><li><code>companyId</code> - Default value is ‘cad’. If the document owner is company/enterprise, then the value is company/enterprise ID.</li><li><code>userId</code></li><li><code>locale</code></li><li><code>clientId</code></li></ul><p>This location supports action types.</p><h3 id=part-number-generator>Part number generator</h3><p>This extension helps partners to embed their own custom part number generation scheme in Onshape. Each application can have only one extension of this type. Once defined, these extensions are listed as one of the part numbering schemes in the release management configuration in Company settings.</p><p><img src=/images/extensionsimage10.png alt="image alt text"></p><p>In the above screen shot, ‘Part number generation scheme’ is the user-defined name of the extension.</p><p>Supported contexts:</p><ul><li>There are no supported contexts.</li></ul><p>Supported parameters for replacement:</p><ul><li>Parameter replacement is not supported.</li></ul><p>Default parameters as query string:</p><ul><li>No default query parameters</li></ul><p>Action URL defined by the user is assumed to be a POST API. This API should consume a predefined request body as shown below. This definition may have additional attributes in future.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span> [
</span></span><span style=display:flex><span>   {
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;id&#34;</span> : &lt;internal part number id&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;documentId&#34;</span> : &lt;documentId&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;elementId&#34;</span> : &lt;elementId&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;workspaceId&#34;</span> : &lt;workspaceId&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;elementType&#34;</span> : &lt;elementType&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;partId&#34;</span> : &lt;partId&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;companyId&#34;</span> : &lt;companyId&gt;, <span style=color:#aaa;font-style:italic>// Id of the company that owns the document, else the text “cad”
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic></span>           <span style=color:#a50>&#34;partNumber&#34;</span> : &lt;current part number&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;configuration&#34;</span> : &lt;configuration string&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;categories&#34;</span> : &lt;array <span style=color:#00a>of</span> category ids and names&gt; <span style=color:#aaa;font-style:italic>// [ { &#34;id&#34;: &lt;String&gt;, &#34;name&#34;: &lt;string&gt; } ]
</span></span></span><span style=display:flex><span><span style=color:#aaa;font-style:italic></span>   }
</span></span><span style=display:flex><span> ]
</span></span></code></pre></div><p><strong>Note</strong>: Categories are only passed from the Release dialog and properties dialogs for now. They are empty when part number generation is called from the BOM table or configuration table.</p><p>Expected response sent to Onshape is as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span> [   
</span></span><span style=display:flex><span>   {
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;id&#34;</span> : &lt;internal part number id&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;documentId&#34;</span> : &lt;documentId&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;elementId&#34;</span> : &lt;elementId&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;workspaceId&#34;</span> : &lt;workspaceId&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;elementType&#34;</span> : &lt;elementType&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;partId&#34;</span> : &lt;partId&gt;,
</span></span><span style=display:flex><span>           <span style=color:#a50>&#34;partNumber&#34;</span> : &lt;next part number generated by third party numbering scheme&gt;
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span> ]
</span></span></code></pre></div><p>Third-party applications can simply fill the <code>"partNumber"</code> attribute with the part number generated by the custom numbering scheme and send it as a response. However, the response should at least contain <code>"id"</code> and <code>"partNumber"</code> as highlighted above; other attributes are optional.</p><p>Custom numbering schemes for part generation, once set in the Release management page, can be invoked from all the places where we set part numbers, including the Release candidate dialog shown below:</p><p><img src=/images/extensionsimage11.png alt="image alt text"></p><h2 id=sample-code>Sample code</h2><p>We have provided a sample application that supports the features described in this document.</p><p>The source code for this <code>Inventory management</code> application can be found <a href=https://github.com/onshape-public/inventory-oauth2-app>in our public GitHub repository</a>.</p><p>The instructions to install and the application are available in the <code>README.md</code> file in the repository.</p><p>The application is built on the Passport node module. It is based on this <a href=http://scottksmith.com/blog/2014/05/02/building-restful-apis-with-node/>article</a>. Please read the article before proceeding with this section.</p><p>Some structural information about the application:</p><ul><li>The dependencies are defined in <code>package.json</code></li><li>The routing for inbound calls is defined in <code>server.js</code>. This includes routing for OAuth2 calls as well as calls for the rest APIs we expose that Onshape can call via the extensions.</li><li>The OAuth2 calls are routed to <code>controllers/oauth2.js</code>. These include calls to authenticate as calls to get the bearer token.</li><li><code>controllers/oauth2.js</code> uses <code>controllers/auth.js</code> to interact with Passport to manage the authentication and storage.</li><li>Other API calls to get part number, etc, route to the appropriate controller in the controllers directory.</li><li>The controllers use the model defined in the model directory.</li></ul><p>The application is defined in the Developer Portal with extensions that use the exposed APIs.</p><p>The following screenshots define the base configuration of the application and some of the sample extensions.</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.7b55bf6c6b7512854e4a08bbd237c127d647ad103c3548888d50711b16bbde24.js integrity="sha256-e1W/bGt1EoVOSgi70jfBJ9ZHrRA8NUiIjVBxGxa73iQ=" crossorigin=anonymous></script></body></html>